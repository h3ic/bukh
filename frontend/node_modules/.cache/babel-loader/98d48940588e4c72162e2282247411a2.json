{"ast":null,"code":"var _jsxFileName = \"/home/h3ic/bukh/frontend/src/Activities.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ParticipationCheckbox(props) {\n  // onClick = () => TableHandler(user_id, party_id)\n  return /*#__PURE__*/_jsxDEV(\"td\", {\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3,\n      columnNumber: 16\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 3,\n    columnNumber: 12\n  }, this);\n}\n\n_c = ParticipationCheckbox;\n\nfunction TotalAndDebt(props) {\n  var totalExpenses = [];\n\n  for (const expense of props.expenses) {\n    totalExpenses.push(expense);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: /*#__PURE__*/_jsxDEV(\"td\", {\n      children: totalExpenses.map(expense => expense.toString())\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = TotalAndDebt;\n\nfunction ActivityRow(props) {\n  const usersID = props.partyUsersID;\n  var checkboxes = [];\n\n  for (const userID of usersID) {\n    checkboxes.push( /*#__PURE__*/_jsxDEV(ParticipationCheckbox, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 25\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.activityName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), checkboxes, /*#__PURE__*/_jsxDEV(\"td\", {\n      children: props.activityExpense\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n\n_c3 = ActivityRow;\n\nfunction Activities(props) {\n  const activities = props.activities;\n  const users = props.users;\n  const partyUsersID = users && users.map(user => user.user_id);\n  const activitiesID = activities && activities.map(activity => activity.activity_id); // const activitiesNames = activities && activities.map(activity => activity.activity_name.toString())\n  // const activitiesUsers = activities && activities.map(activity => activity.users_id)\n  // const activitiesTotalPrice = activities && activities.map(activity => activity.total_price.toString())\n\n  var activitiesRows = [];\n  var totalUserExpenses = {};\n\n  for (const activity of activities) {\n    const activityID = activity.activity_id;\n    const activityName = activity.activity_name;\n    const activityUsers = activity.users_id;\n    const activityExpense = activity.activity_expense;\n    activitiesRows.push( /*#__PURE__*/_jsxDEV(ActivityRow, {\n      activityName: activityName,\n      activityUsers: activityUsers,\n      activityExpense: activityExpense,\n      partyUsersID: partyUsersID\n    }, activityID, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }, this));\n    const partialExpense = activityExpense / activityUsers.length;\n\n    for (const userID of activityUsers) {\n      if (!(userID in totalUserExpenses)) {\n        totalUserExpenses[userID] = 0;\n      }\n\n      totalUserExpenses[userID] += partialExpense;\n    }\n  }\n\n  var totalAndDebtRow = [];\n\n  for (const userID in totalUserExpenses) {\n    totalUserExpenses[userID] = Math.round(totalUserExpenses[userID] * 100) / 100;\n  }\n\n  console.log(totalUserExpenses);\n  activitiesRows.push( /*#__PURE__*/_jsxDEV(TotalAndDebt, {\n    expenses: totalUserExpenses\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 25\n  }, this)); // var totalUserExpenses = [];\n  //\n  // for (const userID of partyUsersID) {\n  //     var expense = 0;\n  //     for (const activity of activities) {\n  //         // const partialExpense =\n  //         const activityExpense = activity.activity_expense;\n  //         const activityUsersNumber = activity.users_id.length;\n  //         console.log(activityExpense, activityUsersNumber);\n  //         expense += Math.round(activityExpense / activityUsersNumber * 100) / 100;\n  //     }\n  //     totalUserExpenses.push(expense);\n  // }\n\n  return activitiesRows; // <tr>\n  //     {activitiesNames && activitiesNames.map(activityName => <Activity key={activityName.toString()}\n  //                                                                       activityName={activityName}/>)}\n  //     {activitiesUsers && activitiesUsers.map(activityUsers => <ParticipationCheckbox\n  //         usersID={activityUsers}/>)}\n  //     {activitiesTotalPrice && activitiesTotalPrice.map(activityTotalPrice => <ActivityTotalPrice\n  //         key={activityTotalPrice.toString()}\n  //         totalPrice={activityTotalPrice}/>)}\n  // </tr>\n  //     );\n}\n\n_c4 = Activities;\nexport default Activities;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"ParticipationCheckbox\");\n$RefreshReg$(_c2, \"TotalAndDebt\");\n$RefreshReg$(_c3, \"ActivityRow\");\n$RefreshReg$(_c4, \"Activities\");","map":{"version":3,"sources":["/home/h3ic/bukh/frontend/src/Activities.js"],"names":["ParticipationCheckbox","props","TotalAndDebt","totalExpenses","expense","expenses","push","map","toString","ActivityRow","usersID","partyUsersID","checkboxes","userID","activityName","activityExpense","Activities","activities","users","user","user_id","activitiesID","activity","activity_id","activitiesRows","totalUserExpenses","activityID","activity_name","activityUsers","users_id","activity_expense","partialExpense","length","totalAndDebtRow","Math","round","console","log"],"mappings":"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","sourcesContent":["function ParticipationCheckbox(props) {\n    // onClick = () => TableHandler(user_id, party_id)\n    return <td><input type=\"checkbox\"/></td>\n}\n\nfunction TotalAndDebt(props) {\n    var totalExpenses = [];\n    for (const expense of props.expenses) {\n       totalExpenses.push(expense);\n    }\n    return (\n        <tr>\n            <td>{totalExpenses.map(expense => expense.toString())}</td>\n        </tr>\n    );\n}\n\nfunction ActivityRow(props) {\n    const usersID = props.partyUsersID;\n    var checkboxes = [];\n\n    for (const userID of usersID) {\n        checkboxes.push(<ParticipationCheckbox/>);\n    }\n    return (\n        <tr>\n            <td>{props.activityName}</td>\n            {checkboxes}\n            <td>{props.activityExpense}</td>\n        </tr>\n    );\n}\n\nfunction Activities(props) {\n    const activities = props.activities;\n    const users = props.users;\n    const partyUsersID = users && users.map(user => user.user_id);\n    const activitiesID = activities && activities.map(activity => activity.activity_id);\n    // const activitiesNames = activities && activities.map(activity => activity.activity_name.toString())\n    // const activitiesUsers = activities && activities.map(activity => activity.users_id)\n    // const activitiesTotalPrice = activities && activities.map(activity => activity.total_price.toString())\n\n    var activitiesRows = [];\n    var totalUserExpenses = {};\n\n    for (const activity of activities) {\n        const activityID = activity.activity_id;\n        const activityName = activity.activity_name;\n        const activityUsers = activity.users_id;\n        const activityExpense = activity.activity_expense;\n        activitiesRows.push(<ActivityRow key={activityID}\n                                         activityName={activityName}\n                                         activityUsers={activityUsers}\n                                         activityExpense={activityExpense}\n                                         partyUsersID={partyUsersID}/>);\n\n        const partialExpense = activityExpense / activityUsers.length;\n        for (const userID of activityUsers) {\n            if (!(userID in totalUserExpenses)) {\n                totalUserExpenses[userID] = 0;\n            }\n            totalUserExpenses[userID] += partialExpense;\n        }\n\n\n    }\n\n    var totalAndDebtRow = [];\n    for (const userID in totalUserExpenses) {\n        totalUserExpenses[userID] = Math.round(totalUserExpenses[userID] * 100) / 100;\n    }\n\n    console.log(totalUserExpenses);\n\n    activitiesRows.push(<TotalAndDebt expenses={totalUserExpenses}/>)\n\n    // var totalUserExpenses = [];\n    //\n    // for (const userID of partyUsersID) {\n    //     var expense = 0;\n    //     for (const activity of activities) {\n    //         // const partialExpense =\n    //         const activityExpense = activity.activity_expense;\n    //         const activityUsersNumber = activity.users_id.length;\n    //         console.log(activityExpense, activityUsersNumber);\n    //         expense += Math.round(activityExpense / activityUsersNumber * 100) / 100;\n    //     }\n    //     totalUserExpenses.push(expense);\n    // }\n\n    return (\n        activitiesRows);\n    // <tr>\n    //     {activitiesNames && activitiesNames.map(activityName => <Activity key={activityName.toString()}\n    //                                                                       activityName={activityName}/>)}\n    //     {activitiesUsers && activitiesUsers.map(activityUsers => <ParticipationCheckbox\n    //         usersID={activityUsers}/>)}\n    //     {activitiesTotalPrice && activitiesTotalPrice.map(activityTotalPrice => <ActivityTotalPrice\n    //         key={activityTotalPrice.toString()}\n    //         totalPrice={activityTotalPrice}/>)}\n    // </tr>\n    //     );\n}\n\nexport default Activities;"]},"metadata":{},"sourceType":"module"}