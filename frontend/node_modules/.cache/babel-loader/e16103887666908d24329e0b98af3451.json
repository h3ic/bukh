{"ast":null,"code":"// right-side panel in partyTable\nexport function calcActivityExpenses(activities, items) {\n  let activityExpenses = {};\n\n  for (const activity of activities) {\n    activityExpenses[activity.activity_id] = 0;\n    const activityItems = items.filter(item => activity.items_id.includes(item.item_id));\n\n    for (const item of activityItems) {\n      activityExpenses[activity.activity_id] += item.item_price;\n    }\n  }\n\n  return activityExpenses;\n} // total row in partyTable\n\nexport function calcTotalUsersFinance(activities, items, activityExpenses) {\n  let totalUserExpenses = {};\n\n  for (const activity of activities) {\n    const partialExpense = activityExpenses[activity.activity_id] / activity.users_id.length;\n\n    for (const userID of activity.users_id) {\n      totalUserExpenses[userID] += partialExpense;\n    }\n\n    const activityItems = items.filter(item => activity.items_id.includes(item.item_id));\n\n    for (const item of activityItems) {\n      totalDebtPerUser[item.bought_by] += item.item_price;\n    }\n  }\n\n  return totalUserExpenses;\n} // debt row in partyTable\n\nexport function calcDebtPerUser(activities, items, totalUserExpenses) {\n  let totalDebtPerUser = {};\n\n  for (const userID in totalUserExpenses) {\n    totalDebtPerUser[userID] = totalUserExpenses[userID];\n  }\n\n  for (const activity of activities) {\n    const activityItems = items.filter(item => activity.items_id.includes(item.item_id));\n  }\n\n  return totalDebtPerUser;\n} // total row in activityTable\n\nexport function calcActivityUserExpenses(items) {\n  let activityUserExpenses = {};\n\n  for (const item of items) {\n    activityUserExpenses[item.bought_by] += item.item_price;\n  }\n\n  return activityUserExpenses;\n}","map":{"version":3,"sources":["/home/h3ic/bukh/frontend/src/Calculations.js"],"names":["calcActivityExpenses","activities","items","activityExpenses","activity","activity_id","activityItems","filter","item","items_id","includes","item_id","item_price","calcTotalUsersFinance","totalUserExpenses","partialExpense","users_id","length","userID","totalDebtPerUser","bought_by","calcDebtPerUser","calcActivityUserExpenses","activityUserExpenses"],"mappings":"AAAA;AACA,OAAO,SAASA,oBAAT,CAA8BC,UAA9B,EAA0CC,KAA1C,EAAiD;AACpD,MAAIC,gBAAgB,GAAG,EAAvB;;AAEA,OAAK,MAAMC,QAAX,IAAuBH,UAAvB,EAAmC;AAC/BE,IAAAA,gBAAgB,CAACC,QAAQ,CAACC,WAAV,CAAhB,GAAyC,CAAzC;AACA,UAAMC,aAAa,GAAGJ,KAAK,CAACK,MAAN,CAAaC,IAAI,IAAIJ,QAAQ,CAACK,QAAT,CAAkBC,QAAlB,CAA2BF,IAAI,CAACG,OAAhC,CAArB,CAAtB;;AACA,SAAK,MAAMH,IAAX,IAAmBF,aAAnB,EAAkC;AAC9BH,MAAAA,gBAAgB,CAACC,QAAQ,CAACC,WAAV,CAAhB,IAA0CG,IAAI,CAACI,UAA/C;AACH;AACJ;;AACD,SAAOT,gBAAP;AACH,C,CAED;;AACA,OAAO,SAASU,qBAAT,CAA+BZ,UAA/B,EAA2CC,KAA3C,EAAkDC,gBAAlD,EAAoE;AACvE,MAAIW,iBAAiB,GAAG,EAAxB;;AAEA,OAAK,MAAMV,QAAX,IAAuBH,UAAvB,EAAmC;AAE/B,UAAMc,cAAc,GAAGZ,gBAAgB,CAACC,QAAQ,CAACC,WAAV,CAAhB,GAAyCD,QAAQ,CAACY,QAAT,CAAkBC,MAAlF;;AAEA,SAAK,MAAMC,MAAX,IAAqBd,QAAQ,CAACY,QAA9B,EAAwC;AACpCF,MAAAA,iBAAiB,CAACI,MAAD,CAAjB,IAA6BH,cAA7B;AACH;;AAED,UAAMT,aAAa,GAAGJ,KAAK,CAACK,MAAN,CAAaC,IAAI,IAAIJ,QAAQ,CAACK,QAAT,CAAkBC,QAAlB,CAA2BF,IAAI,CAACG,OAAhC,CAArB,CAAtB;;AACA,SAAK,MAAMH,IAAX,IAAmBF,aAAnB,EAAkC;AAC9Ba,MAAAA,gBAAgB,CAACX,IAAI,CAACY,SAAN,CAAhB,IAAoCZ,IAAI,CAACI,UAAzC;AACH;AACJ;;AACD,SAAOE,iBAAP;AACH,C,CAED;;AACA,OAAO,SAASO,eAAT,CAAyBpB,UAAzB,EAAqCC,KAArC,EAA4CY,iBAA5C,EAA+D;AAClE,MAAIK,gBAAgB,GAAG,EAAvB;;AACA,OAAK,MAAMD,MAAX,IAAqBJ,iBAArB,EAAwC;AACpCK,IAAAA,gBAAgB,CAACD,MAAD,CAAhB,GAA2BJ,iBAAiB,CAACI,MAAD,CAA5C;AACH;;AAED,OAAK,MAAMd,QAAX,IAAuBH,UAAvB,EAAmC;AAC/B,UAAMK,aAAa,GAAGJ,KAAK,CAACK,MAAN,CAAaC,IAAI,IAAIJ,QAAQ,CAACK,QAAT,CAAkBC,QAAlB,CAA2BF,IAAI,CAACG,OAAhC,CAArB,CAAtB;AACH;;AAED,SAAOQ,gBAAP;AACH,C,CAED;;AACA,OAAO,SAASG,wBAAT,CAAkCpB,KAAlC,EAAyC;AAC5C,MAAIqB,oBAAoB,GAAG,EAA3B;;AACA,OAAK,MAAMf,IAAX,IAAmBN,KAAnB,EAA0B;AACtBqB,IAAAA,oBAAoB,CAACf,IAAI,CAACY,SAAN,CAApB,IAAwCZ,IAAI,CAACI,UAA7C;AACH;;AACD,SAAOW,oBAAP;AACH","sourcesContent":["// right-side panel in partyTable\nexport function calcActivityExpenses(activities, items) {\n    let activityExpenses = {};\n\n    for (const activity of activities) {\n        activityExpenses[activity.activity_id] = 0;\n        const activityItems = items.filter(item => activity.items_id.includes(item.item_id));\n        for (const item of activityItems) {\n            activityExpenses[activity.activity_id] += item.item_price;\n        }\n    }\n    return activityExpenses;\n}\n\n// total row in partyTable\nexport function calcTotalUsersFinance(activities, items, activityExpenses) {\n    let totalUserExpenses = {};\n\n    for (const activity of activities) {\n\n        const partialExpense = activityExpenses[activity.activity_id] / activity.users_id.length;\n\n        for (const userID of activity.users_id) {\n            totalUserExpenses[userID] += partialExpense;\n        }\n\n        const activityItems = items.filter(item => activity.items_id.includes(item.item_id));\n        for (const item of activityItems) {\n            totalDebtPerUser[item.bought_by] += item.item_price;\n        }\n    }\n    return totalUserExpenses;\n}\n\n// debt row in partyTable\nexport function calcDebtPerUser(activities, items, totalUserExpenses) {\n    let totalDebtPerUser = {};\n    for (const userID in totalUserExpenses) {\n        totalDebtPerUser[userID] = totalUserExpenses[userID];\n    }\n\n    for (const activity of activities) {\n        const activityItems = items.filter(item => activity.items_id.includes(item.item_id));\n    }\n\n    return totalDebtPerUser;\n}\n\n// total row in activityTable\nexport function calcActivityUserExpenses(items) {\n    let activityUserExpenses = {};\n    for (const item of items) {\n        activityUserExpenses[item.bought_by] += item.item_price;\n    }\n    return activityUserExpenses;\n}"]},"metadata":{},"sourceType":"module"}